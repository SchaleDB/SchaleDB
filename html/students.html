<div class="container-xl py-md-3">
    <div class="row">
        <div id="student-portrait-panel" class="col-12 col-md-6 ba-page">
            <div class="d-flex pe-xl-3" style="justify-content: center;">
                <img id="ba-student-img">
            </div>
            <div class="student-portrait-buttons">
                <div class="d-flex flex-row gap-2">
                    <button id="ba-student-list-btn" type="button" class="btn btn-dark" style="display:none;">
                        <i class="fa-solid fa-grip me-1"></i>
                        <span class="d-none d-md-inline" data-localize-id="ui,student_list"></span>
                        <span class="d-inline d-md-none" data-localize-id="ui,student_list_short"></span>
                    </button>

                    <button id="ba-student-collection-btn" type="button" class="btn btn-dark" onclick="toggleOwned()"></button>
                    <div class="d-md-none flex-fill"></div>
                    <button id="ba-student-toggle-sprite-btn" type="button" class="btn btn-dark tooltip-button" data-tooltip-id="ui,tooltip_sprite_toggle"><i class="fa-solid fa-repeat"></i></button>
                    <button id="student-voice-btn" type="button" class="btn btn-dark tooltip-button" data-tooltip-id="ui,voicegallery"><i class="fa-solid fa-microphone" style="width:16px;"></i></button>
                    <button id="btn-midokuni-link" class="btn btn-dark tooltip-button py-1 px-2" data-tooltip-id="ui,midokuni_link">
                        <div class="icon"><img src="images/ui/midokuni.png" width="25" height="25"></div>
                    </button>                    
                </div>
                <div>
                    <button id="style-switch-btn" type="button" class="btn btn-dark p-0" onclick="changeCombatStyle()" data-tooltip-id="ui,tooltip_combat_style">
                        <div id="style-switch-btn-bg" class="d-flex align-items-center justify-content-end">
                            <i class="fa-solid fa-repeat me-2"></i>
                        </div>
                    </button>                    
                </div>
            </div>
        </div>
        <div id="ba-student" class="col-12 col-md-6 ba-page" style="display:none;">
            <div class="px-0 ps-xl-3">
                <div class="card p-2">
                    <div class="card-header">
                        <div class="d-flex flex-row align-items-top pt-2 pb-3">
                            <div class="flex-grow-1 me-2">
                                <h1 id="ba-student-name" class="title-text px-1 mb-3"></h1>
                                <div class="d-flex flex-row flex-wrap gap-1">
                                    <span id="ba-student-stargrade" class="ba-info-pill-s bg-theme"><span class="label"></span></span>
                                    <span id="ba-student-class" class="ba-info-pill-s"><span class="label"></span></span>
                                </div>
                            </div>
                            <div id="ba-student-school">
                                <img id="ba-student-school-img" class="invert-light" width="84" height="76" src="">
                            </div>
                        </div>
                        <nav id="ba-item-list-tabs" class="nav nav-pills justify-content-left">
                            <a id="ba-student-tab-stats" class="nav-link active" data-bs-toggle="tab" href="#ba-student-page-stats" data-localize-id="ui,attributes"></a>
                            <a id="ba-student-tab-skills" class="nav-link" data-bs-toggle="tab" href="#ba-student-page-skills" data-localize-id="ui,skills"></a>
                            <a id="ba-student-tab-weapon" class="nav-link" data-bs-toggle="tab" href="#ba-student-page-weapon" data-localize-id="ui,ex_weapon"></a>
                            <a id="ba-student-tab-gear" class="nav-link" data-bs-toggle="tab" href="#ba-student-page-gear" data-localize-id="ui,ex_gear"></a>
                            <a id="ba-student-tab-profile" class="nav-link" data-bs-toggle="tab" href="#ba-student-page-profile" data-localize-id="ui,profile"></a>
                        </nav>
                    </div>
                    <div class="card-body">
                        <div class="tab-content">
                            <div id="ba-student-page-stats" class="tab-pane fade show active" style="border-radius: .25em;">
                                <div class="d-flex flex-row flex-wrap align-items-center justify-content-between mb-1 gap-1">
                                    <div id="ba-student-attributes" class="d-flex flex-row flex-wrap align-items-center">
                                        <span id="ba-student-role" class="ba-info-pill bg-theme m-0" style="position: relative;"><img id="ba-student-role-icon" class="invert-light" src="" style="height:26px;"><span id="ba-student-role-label" class="label"></span></span>
                                        <span id="ba-student-attacktype" class="ba-info-pill m-0"><img src="images/ui/Type_Attack.png"><span id="ba-student-attacktype-label" class="label"></span></span>
                                        <span id="ba-student-defensetype" class="ba-info-pill m-0"><img src="images/ui/Type_Defense.png"><span id="ba-student-defensetype-label" class="label"></span></span>
                                        <span id="ba-student-position" class="ba-info-pill m-0"><span id="ba-student-position-label" class="label"></span></span>
                                        <span id="ba-student-academy" class="ba-info-pill bg-theme m-0" style="position: relative;"><img id="ba-student-academy-icon" class="invert-light" src="" style="height:26px;"><span id="ba-student-academy-label" class="label"></span></span>
                                    </div>
                                    <div id="ba-student-terrain" class="terrain-group">
                                        <div id="ba-student-terrain-street" class="terrain-info ba-panel"><span class="terrain-icon"><img class="invert-light" src="images/ui/Terrain_Street.png"></span><br><img id="ba-student-terrain-street-icon" class="affinity-icon" src=""></div>
                                        <div id="ba-student-terrain-outdoor" class="terrain-info ba-panel"><span class="terrain-icon"><img class="invert-light" src="images/ui/Terrain_Outdoor.png"></span><br><img id="ba-student-terrain-outdoor-icon" class="affinity-icon" src=""></div>
                                        <div id="ba-student-terrain-indoor" class="terrain-info ba-panel"><span class="terrain-icon"><img class="invert-light" src="images/ui/Terrain_Indoor.png"></span><br><img id="ba-student-terrain-indoor-icon" class="affinity-icon" src=""></div>
                                    </div>
                                    <div id="ba-student-weapon" class="ba-type-weapon ba-panel d-inline-block align-self-stretch align-text-top position-relative">
                                        <img id="ba-student-usescover-icon" src="images/ui/Combat_Icon_Cover_Ally.png">
                                        <p id="ba-student-weapontype-label" class="ba-weapon-label"></p>
                                        <p id="ba-student-weapon-level" class="text-bold float-end"></p>
                                    </div>
                                    <div id="ba-student-gear" class="flex-fill ba-panel">
                                        <div class="d-flex align-items-center flex-wrap gap-3 justify-content-center py-1 px-2" style="min-height: 78px;">
                                            <div id="ba-student-gear-1" class="position-relative drop-shadow ba-item-n circle"><img id="ba-student-gear-1-icon" class="ba-gear-icon" style="cursor:pointer;" src=""></div>
                                            <div id="ba-student-gear-2" class="position-relative drop-shadow ba-item-n circle"><img id="ba-student-gear-2-icon" class="ba-gear-icon" style="cursor:pointer;" src=""></div>
                                            <div id="ba-student-gear-3" class="position-relative drop-shadow ba-item-n circle"><img id="ba-student-gear-3-icon" class="ba-gear-icon" style="cursor:pointer;" src=""></div>
                                            <div id="ba-student-gear-separator" class="ba-panel-separator-vertical" style="height:64px;"></div>
                                            <div id="ba-student-gear-4" class="position-relative drop-shadow ba-item-n circle"><img id="ba-student-gear-4-icon" class="ba-gear-icon" src=""></div>
                                        </div>
                                    </div>

                                </div>

                                <div class="row g-1 mt-2">
                                    <div class="d-flex flex-row justify-content-between align-items-stretch gap-2">
                                        <div id="student-summon-list" class="summon-list dropdown-character-list">
                                            <button class="btn-pill" data-bs-toggle="dropdown">
                                                <div class="icon active-icon"><img src="" width="28" height="28"></div>
                                                <span class="active-name label"></span>
                                                <i class="caret fa-solid fa-caret-down me-2"></i>
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-start">
                                            </ul>
                                        </div>
                                        <div class="d-flex flex-row align-items-end gap-2">
                                            <button id="ba-statpreview-status-compare" onclick="openStudentComparison()" class="btn-pill tooltip-button deactivated">
                                                <div class="icon off"><img src="images/ui/Image_Compare.png" class="invert-light" width="28" height="28"></div>
                                                <div class="icon comparemode-on"><img id="ba-statpreview-status-title-compare-icon" src="" class="" width="28" height="28"><span class="icon-compare invert-light"></span></div>
                                                <span id="ba-statpreview-status-title-compare" class="comparemode-on label"></span>
                                                <i class="fa-solid fa-xmark px-2 comparemode-on"></i>
                                            </button>
                                            <button id="ba-statpreview-status-strikerbonus" onclick="toggleStrikerBonus()" class="btn-pill tooltip-button deactivated" >
                                                <div class="icon" style="padding:3px"><img src="images/ui/Special_StatBonus.png" class="invert-light" width="22" height="22" style="border-radius:0!important;"></div>
                                            </button>
                                            <button id="statpreview-status-lockinput" class="btn-pill btn-lock-attributes tooltip-button deactivated" data-tooltip-id="ui,lock_attributes">
                                                <div class="d-flex align-items-center justify-content-center" style="width:28px;height:28px;"><i class="fa-solid fa-lock"></i></div>
                                            </button>
                                            <button id="ba-statpreview-status-options" class="btn-pill">
                                                <div class="d-flex align-items-center justify-content-center" style="width:28px;height:28px;"><i class="fa-solid fa-magnifying-glass"></i></div>
                                                <span class="label d-none d-md-block ps-1">
                                                    <span data-localize-id="ui,details"></span>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="row g-1 mt-1">
                                    <div class="col">
                                        <div id="ba-student-stat-table" class="student-stat-table ba-panel ba-stats mb-0">
                                        </div>
                                    </div>
                                </div>

                                <div class="row g-1 mt-2">
                                    <div class="d-flex flex-row align-items-center">
                                        <input id="ba-statpreview-levelrange" oninput="changeStatPreviewLevel(this)" type="range" class="statpreview-level form-range me-2 flex-fill" value="1" min="1" max="100">
                                        <span id="ba-statpreview-level" class="ba-slider-label statpreview-level-label">Lv.1</span>
                                    </div>
                                </div>

                                <div class="row g-1 mt-2">
                                    <div class="d-flex flex-row flex-wrap align-items-stretch gap-2 mb-1">
                                        <div class="d-flex flex-row align-items-stretch">
                                            <div id="ba-statpreview-stars" class="d-inline-block ba-panel statpreview-stars px-2 d-flex align-items-center">
                                                <span id="ba-statpreview-star-1" class="ba-statpreview-star statpreview-star-1" onclick="changeStatPreviewStars(1,0)"><i class="fa-solid fa-star"></i></span>
                                                <span id="ba-statpreview-star-2" class="ba-statpreview-star statpreview-star-2" onclick="changeStatPreviewStars(2,0)"><i class="fa-solid fa-star"></i></span>
                                                <span id="ba-statpreview-star-3" class="ba-statpreview-star statpreview-star-3" onclick="changeStatPreviewStars(3,0)"><i class="fa-solid fa-star"></i></span>
                                                <span id="ba-statpreview-star-4" class="ba-statpreview-star statpreview-star-4" onclick="changeStatPreviewStars(4,0)"><i class="fa-solid fa-star"></i></span>
                                                <span id="ba-statpreview-star-5" class="ba-statpreview-star statpreview-star-5" onclick="changeStatPreviewStars(5,0)"><i class="fa-solid fa-star"></i></span>
                                                <span id="ba-weaponpreview-star-1" class="ba-weaponpreview-star weaponpreview-star-1 ms-2" onclick="changeStatPreviewStars(5,1)"><i class="fa-solid fa-star"></i></span>
                                                <span id="ba-weaponpreview-star-2" class="ba-weaponpreview-star weaponpreview-star-2" onclick="changeStatPreviewStars(5,2)"><i class="fa-solid fa-star"></i></span>
                                                <span id="ba-weaponpreview-star-3" class="ba-weaponpreview-star weaponpreview-star-3" onclick="changeStatPreviewStars(5,3)"><i class="fa-solid fa-star"></i></span>
                                            </div>
                                        </div>
                                        <div class="flex-fill"></div>
                                        <div class="d-flex flex-row flex-wrap align-items-stretch gap-2">
                                            <button id="ba-statpreview-status-equipment" onclick="toggleGear()" class="btn-pill tooltip-button">
                                                <span class="label">
                                                    <i class="fa-regular fa-square off"></i>
                                                    <i class="fa-solid fa-square-check on"></i>
                                                    <span class="ps-2" data-localize-id="ui,student_gear_short"></span>
                                                </span>
                                            </button>
                                            <div id="statpreview-status-bond" class="d-flex flex-row align-items-stretch gap-2">

                                            </div>
                                            <button id="statpreview-status-maxinput" class="btn-pill btn-max-attributes tooltip-button" data-tooltip-id="ui,max_attributes">
                                                <div class="d-flex align-items-center justify-content-center" style="width:28px;height:28px;"><i class="fa-solid fa-angles-up"></i></div>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="d-flex flex-row flex-wrap align-items-stretch gap-2 mb-1">
                                        <button id="ba-statpreview-status-passive-level" onclick="togglePassiveSkill()" class="btn-pill tooltip-button">
                                            <div class="icon statpreview-passive bg-skill"><img id="ba-statpreview-status-passive-icon" src="" width="28" height="28"></div>
                                            <span class="label"></span>
                                        </button>
                                        <button id="ba-statpreview-status-buffs" onclick="toggleBuffs()" class="btn-pill tooltip-button">
                                            <span class="label">
                                                <i class="fa-regular fa-square off"></i>
                                                <i class="fa-solid fa-square-check on"></i>
                                                <span class="ps-2" data-localize-id="ui,buffs"></span>
                                                <span class="ps-1" id="ba-statpreview-status-buffs-count"></span>
                                            </span>
                                        </button>
                                        <div class="flex-fill"></div>
                                        <div id="ba-statpreview-active-buffs" class="active-buffs px-2 ba-panel"></div>
                                    </div>
                                </div>
                            </div>

                            <div id="ba-student-page-skills" class="tab-pane fade" style="border-radius: .25em;">

                                <div class="mb-2 d-flex ">
                                    <button id="skills-show-upgrades" class="btn-pill tooltip-button">
                                        <span class="label">
                                            <i class="fa-regular fa-square off"></i>
                                            <i class="fa-solid fa-square-check on"></i>
                                            <span class="ps-2" data-localize-id="ui,student_skills_upgrades"></span>
                                        </span>
                                    </button>
                                    <div class="flex-fill"></div>
                                    <button id="skill-show-details" class="btn-pill">
                                        <div class="d-flex align-items-center justify-content-center" style="width:28px;height:28px;"><i class="fa-solid fa-calculator"></i></div>
                                        <span class="label ps-0">
                                            <span data-localize-id="ui,calculations"></span>
                                        </span>
                                    </button>
                                </div>

                                <div id="ba-skill-autoattack">
                                    <div class="mb-3 p-2 pb-0 d-flex flex-column ba-panel align-items-start">
                                        <div class="mb-2 d-flex flex-row align-items-start gap-3 w-100">
                                            <div id="ba-skill-autoattack-icon" class="skill-icon bg-skill"><img src=""></div>
                                            <div class="d-inline-block flex-fill">
                                                <div>
                                                    <h4 id="ba-skill-autoattack-name" class="me-2 d-inline"></h4>
                                                </div>
                                                <div class="pt-1 d-flex gap-3 align-items-center flex-wrap justify-content-between">
                                                    <div class="position-relative">
                                                        <p id="ba-skill-autoattack-description" class="m-0"></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="ba-skill-autoattack-extrainfo" class="skill-extrainfo"></div>
                                    </div>
                                </div>

                                <div class="mb-3 p-2 pb-0 d-flex flex-column ba-panel align-items-start">
                                    <div class="d-flex flex-row align-items-start gap-3 w-100">
                                        <div id="ba-skill-ex-icon" class="skill-icon bg-skill"><img src=""></div>
                                        <div class="d-inline-block flex-fill">
                                            <div>
                                                <h4 id="ba-skill-ex-name" class="me-2 d-inline"></h4>
                                            </div>
                                            <div class="pt-1 d-flex gap-3 align-items-center flex-wrap justify-content-between">
                                                <div class="position-relative">
                                                    <span class="d-inline" style="font-style: italic; font-weight: 500;" data-localize-id="ui,student_skill_ex"></span>
                                                    <span class="d-inline text-bold">・</span>
                                                    <span class="d-inline text-bold text-italic">COST:</span>
                                                    <span id="ba-skill-ex-cost" style="font-weight: bold;"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p id="ba-skill-ex-description" class="my-2 p-1"></p>
                                    <div id="ba-skill-ex-extrainfo" class="skill-extrainfo"></div>
                                    <div id="skill-ex-extra-skills" class="extra-skills" data-type="ex"></div>
                                    <div class="collapse" id="ba-skill-ex-materials-page" style="min-width: 100%;">
                                        <div class="ba-panel-separator"></div>
                                        <div class="my-1 p-2">
                                            <div id="ba-skill-ex-materials-1" class="item-icon-list"><span data-localize-id="ui,student_skills_materials_none"></span></div>
                                            <div id="ba-skill-ex-materials-2" class="item-icon-list"></div>
                                            <div id="ba-skill-ex-materials-3" class="item-icon-list"></div>
                                            <div id="ba-skill-ex-materials-4" class="item-icon-list"></div>
                                            <div id="ba-skill-ex-materials-5" class="item-icon-list"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row g-1">
                                    <div class="d-flex flex-row align-items-center">
                                        <button class="btn-pill" data-bs-toggle="collapse" data-bs-target="#ba-skill-ex-materials-page">
                                            <span class="label" data-localize-id="ui,student_skills_materials"></span>
                                        </button>
                                        <input id="ba-skillpreview-exrange" oninput="recalculateEXSkillPreview()" type="range" class="form-range mx-2 flex-fill" value="1" min="1" max="5">
                                        <span id="ba-skill-ex-level" class="ba-slider-label"></span>
                                    </div>
                                </div>

                                <div class="my-3 p-2 pb-0 d-flex flex-column ba-panel align-items-start">
                                    <div class="d-flex flex-row align-items-start gap-3 w-100">
                                        <div id="ba-skill-normal-icon" class="skill-icon bg-skill"><img src=""></div>
                                        <div class="d-inline-block flex-fill">
                                            <div>
                                                <h4 id="ba-skill-normal-name" class="me-2 d-inline"></h4>
                                            </div>
                                            <div class="pt-1 d-flex gap-3 align-items-center flex-wrap justify-content-between">
                                                <div class="position-relative">
                                                    <span class="d-inline" style="font-style: italic; font-weight: 500;" data-localize-id="ui,student_skill_normal"></span><span id="ba-skill-normal-plus" data-localize-id="ui,skill_plus"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p id="ba-skill-normal-description" class="my-2 p-1"></p>
                                    <div id="ba-skill-normal-extrainfo" class="skill-extrainfo"></div>
                                    <div id="skill-normal-extra-skills" class="extra-skills" data-type="normal"></div>
                                    <div class="ba-panel-separator"></div>
                                    <div class="mt-2 d-flex flex-row align-items-start gap-3 w-100">
                                        <div id="ba-skill-passive-icon" class="skill-icon bg-skill"><img src=""></div>
                                        <div class="d-inline-block flex-fill">
                                            <div>
                                                <h4 id="ba-skill-passive-name" class="me-2 d-inline"></h4>
                                            </div>
                                            <div class="pt-1 d-flex gap-3 align-items-center flex-wrap justify-content-between">
                                                <div class="position-relative">
                                                    <span class="d-inline" style="font-style: italic; font-weight: 500;" data-localize-id="ui,student_skill_passive"></span><span id="ba-skill-passive-plus" data-localize-id="ui,skill_plus"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p id="ba-skill-passive-description" class="my-2 p-1"></p>
                                    <div class="ba-panel-separator"></div>
                                    <div class="mt-2 d-flex flex-row align-items-start gap-3 w-100">
                                        <div id="ba-skill-sub-icon" class="skill-icon bg-skill"><img src=""></div>
                                        <div class="d-inline-block flex-fill">
                                            <div>
                                                <h4 id="ba-skill-sub-name" class="me-2 d-inline"></h4>
                                            </div>
                                            <div class="pt-1 d-flex gap-3 align-items-center flex-wrap justify-content-between">
                                                <div class="position-relative">
                                                    <span class="d-inline" style="font-style: italic; font-weight: 500;" data-localize-id="ui,student_skill_sub"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p id="ba-skill-sub-description" class="my-2 p-1"></p>
                                    <div id="ba-skill-sub-extrainfo" class="skill-extrainfo"></div>
                                    <div class="collapse" id="ba-skill-materials-page" style="min-width: 100%;">
                                        <div class="ba-panel-separator"></div>
                                        <div class="my-1 p-2">
                                            <div id="ba-skill-materials-1" class="item-icon-list"><span data-localize-id="ui,student_skills_materials_none"></span></div>
                                            <div id="ba-skill-materials-2" class="item-icon-list"></div>
                                            <div id="ba-skill-materials-3" class="item-icon-list"></div>
                                            <div id="ba-skill-materials-4" class="item-icon-list"></div>
                                            <div id="ba-skill-materials-5" class="item-icon-list"></div>
                                            <div id="ba-skill-materials-6" class="item-icon-list"></div>
                                            <div id="ba-skill-materials-7" class="item-icon-list"></div>
                                            <div id="ba-skill-materials-8" class="item-icon-list"></div>
                                            <div id="ba-skill-materials-9" class="item-icon-list"></div>
                                            <div id="ba-skill-materials-10" class="item-icon-list"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row g-1">
                                    <div class="d-flex flex-row align-items-center">
                                        <button class="btn-pill" data-bs-toggle="collapse" data-bs-target="#ba-skill-materials-page">
                                            <span class="label" data-localize-id="ui,student_skills_materials"></span>
                                        </button>
                                        <input id="ba-skillpreview-range" oninput="recalculateSkillPreview()" type="range" class="form-range mx-2 flex-fill" value="1" min="1" max="10">
                                        <span id="ba-skill-level" class="ba-slider-label"></span>
                                    </div>
                                </div>
                            </div>

                            <div id="ba-student-page-weapon" class="tab-pane fade" style="border-radius: .25em;">
                                <div class="d-flex flex-row align-items-center px-1">
                                    <span class="flex-grow-1">
                                        <h3 id="ba-student-weapon-name" style="display: inline;"></h3>
                                    </span>
                                    <span class="me-1">
                                        <img src="images/ui/Common_Icon_CharacterWeapon_off.png" style="height: 28px; width:auto;">
                                    </span>
                                    <h4 class="d-inline-block mb-0"><i id="ba-student-weapon-type"></i></h4>
                                </div>
                                <div class="ba-panel ba-stats mt-2">
                                    <img id="ba-student-weapon-img" class="p-2" src="">
                                    <div id="ba-weapon-stat-table"></div>
                                    <p class="mb-0 p-2" id="ba-weapon-description" style="white-space: pre-line;"></p>
                                </div>

                                <div class="row g-1 my-3">
                                    <div class="d-flex flex-row align-items-center">
                                        <input id="ba-weaponpreview-levelrange" oninput="changeWeaponPreviewLevel(this)" type="range" class="form-range me-2 flex-fill" value="1" min="1" max="50">
                                        <span id="ba-weaponpreview-level" class="ba-slider-label">Lv.1</span>
                                    </div>
                                </div>
                                <ul class="nav nav-pills justify-content-left">
                                    <li class="nav-item ba-weapon-rank-tab">
                                        <a class="nav-link active" data-bs-toggle="tab" href="#ba-weapon-page-2star"><i class="fa-solid fa-star me-1"></i><b>2</b></a>
                                    </li>
                                    <li class="nav-item ba-weapon-rank-tab">
                                        <a class="nav-link" data-bs-toggle="tab" href="#ba-weapon-page-3star"><i class="fa-solid fa-star me-1"></i><b>3</b></a>
                                    </li>
                                </ul>

                                <div class="tab-content">

                                    <div id="ba-weapon-page-2star" class="tab-pane fade show active">

                                        <div class="d-flex flex-row align-items-end my-3">
                                            <span class="flex-grow-1">
                                                <large style="display: inline;" data-localize-id="ui,student_weapon_rank_2star_desc"></large>
                                            </span>
                                        </div>

                                        <div class="mb-3 p-2 d-flex flex-column ba-panel align-items-start">
                                            <div class="d-flex flex-row align-items-center gap-3">
                                                <div id="ba-skill-weaponpassive-icon" class="skill-icon plus bg-skill">
                                                    <img src="">
                                                </div>
                                                <div class="d-inline-block">
                                                    <div>
                                                        <h4 id="ba-skill-weaponpassive-name" class="me-2 d-inline"></h4>
                                                    </div>
                                                    <div class="mt-1">
                                                        <p class="d-inline" style="font-style: italic; font-weight: 500;"><span data-localize-id="ui,student_skill_passive"></span><span data-localize-id="ui,skill_plus"></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <p id="ba-skill-weaponpassive-description" class="mb-0 mt-1 p-1"></p>
                                        </div>

                                        <div class="row g-1 my-1">
                                            <div class="d-flex flex-row align-items-center">
                                                <input id="ba-weapon-skillpreview-range" oninput="changeWeaponSkillPreviewLevel(this)" type="range" class="form-range me-2 flex-fill" value="1" min="1" max="10">
                                                <span id="ba-weapon-skill-level" class="ba-slider-label">Lv.1</span>
                                            </div>
                                        </div>

                                    </div>

                                    <div id="ba-weapon-page-3star" class="tab-pane fade">

                                        <div class="d-flex flex-row align-items-end mt-3">
                                            <span class="flex-grow-1">
                                                <large style="display: inline;" data-localize-id="ui,student_weapon_rank_3star_desc"></large>
                                            </span>
                                        </div>

                                        <div class="mt-3 p-2 d-flex flex-row align-items-center ba-panel">
                                            <div class="position-relative">
                                                <div class="d-inline-block" style="margin-bottom: 24px; margin-right: calc(28px + 1rem);background-color: var(--col-theme-accent);border-radius: 0.25rem;"><img id="ba-weapon-bonus-terrain-type" class="invert-light" style="height:48px; width: 48px;" src=""></div>
                                                <img id="ba-weapon-bonus-terrain-adaption" class="d-inline-block position-absolute" style="height:48px; width: auto; top: 22px; left: 28px;" src="">
                                            </div>
                                            <span id="ba-weapon-bonus-terrain-adaption-description"></span>
                                        </div>

                                    </div>

                                </div>
                            </div>

                            <div id="ba-student-page-gear" class="tab-pane fade" style="border-radius: .25em;">
                                <div class="w-100 px-1">
                                    <h3 id="ba-student-gear-name" class="me-2 d-inline"></h3>
                                    <p class="text-italic mb-2"><span data-localize-id="ui,student_ex_gear"></span></p>
                                </div>
                                <div class="ba-panel">
                                    <p class="text-center mb-0 p-2"><img id="ba-student-gear-icon" class="item-icon-full" src=""></p>
                                    <div id="ba-gear-stat-table" class="ba-stats"></div>
                                    <p id="ba-student-gear-description" class="p-2"></p>
                                </div>

                                <ul class="mt-3 nav nav-pills justify-content-left">
                                    <li class="nav-item ba-gear-rank-tab">
                                        <a class="nav-link active" data-bs-toggle="tab" href="#ba-gear-page-t2">T2</a>
                                    </li>
                                </ul>

                                <div class="tab-content">
                                    <div id="ba-gear-page-t2" class="tab-pane active show">

                                        <div class="mt-3 p-2 d-flex flex-column ba-panel">
                                            <i id="ba-student-bondreq-t2" class="mb-2"></i>
                                            <i data-localize-id="ui,craft_using" class="mb-2"></i>
                                            <div id="ba-student-gear-materials-t2" class="d-flex justify-content-center"></div>
                                        </div>

                                        <div class="mt-2 mb-3 p-2 d-flex flex-column ba-panel align-items-start">
                                            <div class="d-flex flex-row align-items-center gap-3">
                                                <div id="ba-skill-gearnormal-icon" class="skill-icon bg-skill plus">
                                                    <img src="">
                                                </div>
                                                <div class="d-inline-block">
                                                    <div>
                                                        <h4 id="ba-skill-gearnormal-name" class="me-2 d-inline"></h4>
                                                    </div>
                                                    <div class="mt-1">
                                                        <p class="d-inline" style="font-style: italic; font-weight: 500;"><span data-localize-id="ui,student_skill_normal"></span><span data-localize-id="ui,skill_plus"></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <p id="ba-skill-gearnormal-description" class="mb-2 mt-1 p-1"></p>
                                        </div>

                                        <div class="row g-1 my-1">
                                            <div class="d-flex flex-row align-items-center">
                                                <input id="ba-gear-skillpreview-range" oninput="changeGearSkillPreviewLevel(this)" type="range" class="form-range me-2 flex-fill" value="1" min="1" max="10">
                                                <span id="ba-gear-skill-level" class="ba-slider-label">Lv.1</span>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div id="ba-student-page-profile" class="tab-pane fade" style="border-radius: .25em;">
                                <div class="d-flex flex-row align-items-top">
                                    <img id="ba-profile-portrait-img" class="drop-shadow me-3">
                                    <div>
                                        <div class="my-1">
                                            <h3 id="ba-student-fullname" class="d-inline"></h3>
                                        </div>

                                        <div class="">
                                            <span id="ba-profile-school-label"></span>
                                            <span id="ba-profile-schoolyear-label"></span><br>
                                            <span id="ba-profile-club-label"></span>
                                        </div>
                                    </div>

                                </div>
                                <table class="table ba-panel ba-stats mt-3 mb-2">
                                    <tbody>
                                        <tr>
                                            <td width="50%">
                                                <div class="d-flex align-items-top justify-content-between">
                                                    <span data-localize-id="ui,cv"></span>
                                                    <span id="ba-student-profile-cv" class="ms-2 text-bold text-end"></span>
                                                </div>
                                            </td>
                                            <td width="50%">
                                                <div class="d-flex align-items-top justify-content-between">
                                                    <span data-localize-id="ui,birthday"></span>
                                                    <span id="ba-student-profile-birthday" class="ms-2 text-bold text-end"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="50%">
                                                <div class="d-flex align-items-top justify-content-between">
                                                    <span data-localize-id="ui,age"></span>
                                                    <span id="ba-student-profile-age" class="ms-2 text-bold text-end"></span>
                                                </div>
                                            </td>
                                            <td width="50%">
                                                <div class="d-flex align-items-top justify-content-between">
                                                    <span data-localize-id="ui,height"></span>
                                                    <span id="ba-student-profile-height" class="ms-2 text-bold text-end"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="50%">
                                                <div class="d-flex align-items-top justify-content-between">
                                                    <span data-localize-id="ui,designer"></span>
                                                    <span id="ba-student-profile-designer" class="ms-2 text-bold text-end"></span>
                                                </div>
                                            </td>
                                            <td width="50%">
                                                <div class="d-flex align-items-top justify-content-between">
                                                    <span data-localize-id="ui,illustrator"></span>
                                                    <span id="ba-student-profile-illustrator" class="ms-2 text-bold text-end"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <div class="d-flex align-items-top justify-content-between">
                                                    <span data-localize-id="ui,hobbies"></span>
                                                    <span id="ba-student-profile-hobbies" class="ms-2 text-bold text-end"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <div class="ba-panel-separator"></div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" id="ba-student-profile-text" style="white-space: pre-line;"></td>
                                        </tr>
                                    </tbody>
                                </table>

                                <div class="mt-3">
                                    <h5 style="font-weight: bold;" data-localize-id="ui,bond_title"></h5>
                                </div>

                                <div class="row g-1 my-1">
                                    <div class="d-flex flex-row">
                                        <div class="flex-grow-1">
                                            <div id="ba-bond-stat-table" class="ba-panel ba-stats mb-2"></div>
                                            <div class="d-flex flex-row align-items-center">
                                                <input id="ba-bond-levelrange" oninput="changeBondLevel(this)" type="range" class="form-range me-2 flex-fill" style="width: auto;" value="20" min="1" max="50">
                                                <span class="ba-slider-label"><i class="fa-solid fa-heart me-1"></i><span id="ba-bond-level">20</span></span>
                                            </div>
                                        </div>
                                        <div class="ba-student-lobby ms-3 drop-shadow">
                                            <img id="ba-student-lobby-img" src="">
                                            <span id="ba-student-lobby-unlock" class="unselectable"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <h5 style="font-weight: bold;" data-localize-id="ui,favoritem_title"></h5>
                                </div>
                                <div id="ba-student-favoured-items" class="my-1 p-2 item-icon-list ba-panel">
                                </div>
                                <div class="mt-3">
                                    <h5 style="font-weight: bold;" data-localize-id="ui,furniture_title"></h5>
                                </div>
                                <div id="ba-student-favoured-furniture" class="my-1 p-2 pb-0 item-icon-list ba-panel">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ba-student-modal-statpreview" tabindex="-1">
    <div class="modal-dialog modal-xl modal-fullscreen-lg-down">
        <div class="modal-content">
            <div class="modal-header" style="border-bottom: none;">
                <h5 class="modal-title" data-localize-id="ui,statpreview_title"></h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="ba-info-statpreview-panel" class="d-lg-flex flex-row">
                    <div class="panel-sliders">
                        <nav id="statpreview-tabs" class="nav nav-pills justify-content-center mb-3">
                            <a id="statpreview-tab-attributes" class="nav-link" data-bs-toggle="tab" href="#statpreview-tab-pane-attributes" data-localize-id="ui,attributes"></a>
                            <a id="statpreview-tab-buffs" class="nav-link" data-bs-toggle="tab" href="#statpreview-tab-pane-buffs" data-localize-id="ui,buffs"></a>
                            <a id="statpreview-tab-calculations" class="nav-link" data-bs-toggle="tab" href="#statpreview-tab-pane-calculations" data-localize-id="ui,enemy_target"></a>
                        </nav>
                        <div class="tab-content">
                            <div id="statpreview-tab-pane-attributes" class="tab-pane">
                                <div class="row g-0">
                                    <div class="col-12 col-xl-6 mb-3 pe-xl-2">
                                        <h5 data-localize-id="Stat,Level"></h5>
                                        <div class="p-2 ba-panel">
                                            <div class="pt-1 d-flex flex-column">
                                                <div class="d-flex flex-row flex-wrap align-items-center mb-2">
                                                    <div class="d-flex flex-row align-items-stretch me-2">
                                                        <div id="ba-statpreview-stars-modal" class="d-inline-block ba-panel statpreview-stars px-2 d-flex align-items-center">
                                                            <span id="ba-statpreview-star-1-modal" class="ba-statpreview-star statpreview-star-1" onclick="changeStatPreviewStars(1,0)"><i class="fa-solid fa-star"></i></span>
                                                            <span id="ba-statpreview-star-2-modal" class="ba-statpreview-star statpreview-star-2" onclick="changeStatPreviewStars(2,0)"><i class="fa-solid fa-star"></i></span>
                                                            <span id="ba-statpreview-star-3-modal" class="ba-statpreview-star statpreview-star-3" onclick="changeStatPreviewStars(3,0)"><i class="fa-solid fa-star"></i></span>
                                                            <span id="ba-statpreview-star-4-modal" class="ba-statpreview-star statpreview-star-4" onclick="changeStatPreviewStars(4,0)"><i class="fa-solid fa-star"></i></span>
                                                            <span id="ba-statpreview-star-5-modal" class="ba-statpreview-star statpreview-star-5" onclick="changeStatPreviewStars(5,0)"><i class="fa-solid fa-star"></i></span>
                                                            <span id="ba-weaponpreview-star-1-modal" class="ba-weaponpreview-star weaponpreview-star-1 ms-2" onclick="changeStatPreviewStars(5,1)"><i class="fa-solid fa-star"></i></span>
                                                            <span id="ba-weaponpreview-star-2-modal" class="ba-weaponpreview-star weaponpreview-star-2" onclick="changeStatPreviewStars(5,2)"><i class="fa-solid fa-star"></i></span>
                                                            <span id="ba-weaponpreview-star-3-modal" class="ba-weaponpreview-star weaponpreview-star-3" onclick="changeStatPreviewStars(5,3)"><i class="fa-solid fa-star"></i></span>
                                                        </div>
                                                    </div>
                                                    <div class="flex-fill"></div>
                                                    <span id="ba-statpreview-level-modal" class="ba-slider-label statpreview-level-label">Lv.1</span>
                                                </div>

                                                <div class="d-flex flex-row align-items-center">
                                                    <input id="ba-statpreview-levelrange-modal" oninput="changeStatPreviewLevel(this)" type="range" class="form-range statpreview-level flex-fill" value="1" min="1" max="100">
                                                </div>
                                            </div>
                                        </div>
                                        <div id="ba-statpreview-weapon-container">
                                            <h5 class="mt-3" data-localize-id="ui,student_weapon"></h5>
                                            <div id="ba-statpreview-weapon" class="p-2 ba-panel">
                                                <div class="d-flex flex-column">
                                                    <div class="d-flex flex-row align-items-center justify-content-center">
                                                        <div class="px-3" style="position: relative;">
                                                            <img id="ba-statpreview-weapon-img" class="ba-weapon-icon ms-0" style="width:100%; margin-bottom: 0px;">
                                                        </div>
                                                    </div>
                                                    <h5 id="ba-statpreview-weapon-name" class="mt-2 d-inline px-2"></h5>
                                                    <p id="ba-statpreview-weapon-description" class="mb-1 px-2" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                    <div class="d-flex flex-row align-items-center">
                                                        <input id="ba-statpreview-weapon-range" oninput="changeStatPreviewWeaponLevel(this)" type="range" class="statpreview-weapon-range form-range me-2 flex-fill" value="1" min="1" max="50">
                                                        <span id="ba-statpreview-weapon-level" class="ba-slider-label"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="ba-statpreview-bond-targets" class="d-flex flex-column gap-2 mt-3">
                                        </div>
                                    </div>
                                    <div class="col-12 col-xl-6 mb-3 ps-xl-2">
                                        <div id="ba-statpreview-gear-toggle" class="d-flex header-toggle" onclick="toggleGear()">
                                            <h5 class="flex-fill">
                                                <span data-localize-id="ui,student_gear"></span>
                                            </h5>
                                            <i class="fa-regular fa-square off"></i>
                                            <i class="fa-solid fa-square-check on"></i>
                                        </div>
                                        <div id="ba-statpreview-gear" class="p-2 ba-panel">
                                            <div class="d-flex flex-column gap-2">
                                                <div id="ba-statpreview-gear1">
                                                    <div class="d-flex flex-row align-items-center mb-1">
                                                        <div class="me-3" style="position: relative;">
                                                            <img id="ba-statpreview-gear1-icon" class="ba-gear-icon-s ba-item-n">
                                                        </div>
                                                        <div class="flex-fill">
                                                            <h5 id="ba-statpreview-gear1-name"></h5>
                                                            <p id="ba-statpreview-gear1-description" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                        </div>
                                                    </div>
                                                    <div class="d-flex flex-row align-items-center">
                                                        <input id="ba-statpreview-gear1-range" oninput="changeGearLevel(1, this)" type="range" class="form-range me-2 flex-fill" value="99" min="1" max="99">
                                                        <span id="ba-statpreview-gear1-level" class="ba-slider-label"></span>
                                                    </div>
                                                </div>
                                                <div id="ba-statpreview-gear2">
                                                    <div class="d-flex flex-row align-items-center mb-1">
                                                        <div class="me-3" style="position: relative;">
                                                            <img id="ba-statpreview-gear2-icon" class="ba-gear-icon-s ba-item-n">
                                                        </div>
                                                        <div class="flex-fill">
                                                            <h5 id="ba-statpreview-gear2-name"></h5>
                                                            <p id="ba-statpreview-gear2-description" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                        </div>
                                                    </div>
                                                    <div class="d-flex flex-row align-items-center">
                                                        <input id="ba-statpreview-gear2-range" oninput="changeGearLevel(2, this)" type="range" class="form-range me-2 flex-fill" value="99" min="1" max="99">
                                                        <span id="ba-statpreview-gear2-level" class="ba-slider-label"></span>
                                                    </div>
                                                </div>
                                                <div id="ba-statpreview-gear3">
                                                    <div class="d-flex flex-row align-items-center mb-1">
                                                        <div class="me-3" style="position: relative;">
                                                            <img id="ba-statpreview-gear3-icon" class="ba-gear-icon-s ba-item-n">
                                                        </div>
                                                        <div class="flex-fill">
                                                            <h5 id="ba-statpreview-gear3-name"></h5>
                                                            <p id="ba-statpreview-gear3-description" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                        </div>
                                                    </div>
                                                    <div class="d-flex flex-row align-items-center">
                                                        <input id="ba-statpreview-gear3-range" oninput="changeGearLevel(3, this)" type="range" class="form-range me-2 flex-fill" value="99" min="1" max="99">
                                                        <span id="ba-statpreview-gear3-level" class="ba-slider-label"></span>
                                                    </div>
                                                </div>
                                                <div id="ba-statpreview-ex-gear-container">
                                                    <div id="ba-statpreview-gear4">
                                                        <div id="ba-statpreview-gear4-detail" class="d-flex flex-row align-items-center mb-1">
                                                            <div class="me-3" style="position: relative;">
                                                                <img id="ba-statpreview-gear4-icon" class="ba-gear-icon-s ba-item-n">
                                                            </div>
                                                            <div class="flex-fill">
                                                                <h5 id="ba-statpreview-gear4-name"></h5>
                                                                <p id="ba-statpreview-gear4-description" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex flex-row align-items-center">
                                                            <input id="ba-statpreview-gear4-range" oninput="changeExGearLevel(this)" type="range" class="form-range me-2 flex-fill" value="0" min="0" max="2">
                                                            <span id="ba-statpreview-gear4-level" class="ba-slider-label"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="ba-statpreview-potential-container">
                                            <div id="ba-statpreview-potential-toggle" class="mt-3 d-flex header-toggle" onclick="togglePotential()">
                                                <h5 class="flex-fill">
                                                    <span data-localize-id="ui,student_potential"></span>
                                                </h5>
                                                <i class="fa-regular fa-square off"></i>
                                                <i class="fa-solid fa-square-check on"></i>
                                            </div>
                                            <div id="ba-statpreview-potential" class="p-2 ba-panel">
                                                <div class="d-flex flex-column gap-2">
                                                    <div id="ba-statpreview-potential-maxhp">
                                                        <div class="d-flex flex-row align-items-center mb-1">
                                                            <div class="me-3" style="position: relative;">
                                                                <img id="ba-statpreview-potential-maxhp-icon" class="ba-gear-icon-s ba-item-n" src="images/item/icon/item_icon_workbook_potentialmaxhp.webp">
                                                            </div>
                                                            <div class="flex-fill">
                                                                <h5 id="ba-statpreview-potential-maxhp-name" data-localize-id="Stat,MaxHP"></h5>
                                                                <p id="ba-statpreview-potential-maxhp-description" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex flex-row align-items-center">
                                                            <input id="ba-statpreview-potential-maxhp-range" oninput="changePotentialLevel('MaxHP', this)" type="range" class="form-range me-2 flex-fill" value="0" min="0" max="25">
                                                            <span id="ba-statpreview-potential-maxhp-level" class="ba-slider-label"></span>
                                                        </div>
                                                    </div>
                                                    <div id="ba-statpreview-potential-attackpower">
                                                        <div class="d-flex flex-row align-items-center mb-1">
                                                            <div class="me-3" style="position: relative;">
                                                                <img id="ba-statpreview-potential-attackpower-icon" class="ba-gear-icon-s ba-item-n" src="images/item/icon/item_icon_workbook_potentialattack.webp">
                                                            </div>
                                                            <div class="flex-fill">
                                                                <h5 id="ba-statpreview-potential-attackpower-name" data-localize-id="Stat,AttackPower"></h5>
                                                                <p id="ba-statpreview-potential-attackpower-description" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex flex-row align-items-center">
                                                            <input id="ba-statpreview-potential-attackpower-range" oninput="changePotentialLevel('AttackPower', this)" type="range" class="form-range me-2 flex-fill" value="0" min="0" max="25">
                                                            <span id="ba-statpreview-potential-attackpower-level" class="ba-slider-label"></span>
                                                        </div>
                                                    </div>
                                                    <div id="ba-statpreview-potential-healpower">
                                                        <div class="d-flex flex-row align-items-center mb-1">
                                                            <div class="me-3" style="position: relative;">
                                                                <img id="ba-statpreview-potential-healpower-icon" class="ba-gear-icon-s ba-item-n" src="images/item/icon/item_icon_workbook_potentialhealpower.webp">
                                                            </div>
                                                            <div class="flex-fill">
                                                                <h5 id="ba-statpreview-potential-healpower-name" data-localize-id="Stat,HealPower"></h5>
                                                                <p id="ba-statpreview-potential-healpower-description" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex flex-row align-items-center">
                                                            <input id="ba-statpreview-potential-healpower-range" oninput="changePotentialLevel('HealPower', this)" type="range" class="form-range me-2 flex-fill" value="0" min="0" max="25">
                                                            <span id="ba-statpreview-potential-healpower-level" class="ba-slider-label"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="statpreview-tab-pane-buffs" class="tab-pane">
                                <div class="row g-0">
                                    <div class="col-12 col-xl-6 mb-3 pe-xl-2">
                                        <div id="ba-statpreview-passiveskill-toggle" class="d-flex header-toggle" onclick="togglePassiveSkill()">
                                            <h5 class="flex-fill">
                                                <span data-localize-id="ui,student_skill_passive"></span>
                                            </h5>
                                            <i class="fa-regular fa-square off"></i>
                                            <i class="fa-solid fa-square-check on"></i>
                                        </div>
                                        <div id="ba-statpreview-passiveskill" class="p-2 ba-panel">
                                            <div class="d-flex flex-column">
                                                <div class="d-flex flex-row align-items-center mb-1 gap-3">
                                                    <div id="ba-statpreview-passiveskill-icon" class="statpreview-passive skill-icon bg-skill small">
                                                        <img src="">
                                                    </div>
                                                    <div class="flex-fill">
                                                        <h5 id="ba-statpreview-passiveskill-name"></h5>
                                                        <p id="ba-statpreview-passiveskill-desc" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                    </div>
                                                </div>
                                                <div class="d-flex flex-row align-items-center">
                                                    <input id="ba-statpreview-passiveskill-range" oninput="changeStatPreviewPassiveSkillLevel(this)" type="range" class="form-range me-2 flex-fill" value="10" min="1" max="10">
                                                    <span id="ba-statpreview-passiveskill-level" class="ba-slider-label"><img src="images/ui/ImageFont_Max.png"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="ba-statpreview-summon">
                                            <h5 class="mt-3" data-localize-id="ui,summon"></h5>
                                            <div class="p-2 ba-panel">
                                                <div class="d-flex flex-column">
                                                    <div class="d-flex flex-row align-items-center mb-1 gap-3">
                                                        <div id="ba-statpreview-summon-icon" class="skill-icon bg-skill small">
                                                            <img src="">
                                                        </div>
                                                        <div class="flex-fill">
                                                            <h5 id="ba-statpreview-summon-name"></h5>
                                                            <p id="ba-statpreview-summon-desc" class="mb-0" style="font-size: 0.875rem; line-height: 1rem;"></p>
                                                        </div>
                                                    </div>
                                                    <div class="d-flex flex-row align-items-center">
                                                        <input id="ba-statpreview-summon-range" oninput="changeStatPreviewSummonSourceSkillLevel(this)" type="range" class="form-range me-2 flex-fill" value="5" min="1" max="5">
                                                        <span id="ba-statpreview-summon-level" class="ba-slider-label"><img src="images/ui/ImageFont_Max.png"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="statpreview-supportstats">
                                            <h5 class="mt-3" data-localize-id="ui,tooltip_supportstats"></h5>

                                            <div class="my-2 d-flex align-items-stretch gap-2">
                                                <input type="search" class="form-control" id="statpreview-supportstats-search-text" data-ph-localize-id="ui,supportstats_search" autocomplete="off">
                                                <button id="statpreview-supportstats-search-btn" class="btn btn-dark tooltip-button" data-tooltip-id="ui,search"><i class="fa-solid fa-magnifying-glass"></i></button>
                                            </div>
                                            <div id="statpreview-supportstats-search-list" class="search-list-container" style="display:none;">
                                                <div class="search-list">
                                                    <div class="search-list-results"></div>
                                                </div>
                                            </div>
                                            <div id="statpreview-supportstats-controls" class="my-2 d-flex flex-column gap-2">
                                            </div>
                                        </div>
                                        <div id="statpreview-tsastats" class="mt-3">
                                            <div id="ba-statpreview-tsastats-toggle" class="d-flex header-toggle" onclick="toggleTSAStats()">
                                                <h5 class="flex-fill">
                                                    <span data-localize-id="ui,tsa_board"></span>
                                                </h5>
                                                <i class="fa-regular fa-square off"></i>
                                                <i class="fa-solid fa-square-check on"></i>
                                            </div>
                                            <div id="statpreview-tsastats-controls" class="my-2 d-flex flex-column gap-2">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-xl-6 mb-3 ps-xl-2">
                                        <div id="statpreview-buff-transferable-search">
                                            <div id="ba-statpreview-buff-toggle" class="d-flex header-toggle" onclick="toggleBuffs()">
                                                <h5 class="flex-fill">
                                                    <span data-localize-id="ui,buff_transferable"></span>
                                                </h5>
                                                <i class="fa-regular fa-square off"></i>
                                                <i class="fa-solid fa-square-check on"></i>
                                            </div>
                                            <div class="my-2 d-flex align-items-stretch gap-2">
                                                <input type="search" class="form-control" id="statpreview-buff-transferable-search-text" data-ph-localize-id="ui,buff_transferable_search" autocomplete="off">
                                                <button id="statpreview-buff-transferable-search-btn" class="btn btn-dark tooltip-button" data-tooltip-id="ui,search"><i class="fa-solid fa-magnifying-glass"></i></button>
                                                <button id="statpreview-buff-transferable-autoadd-btn" class="btn btn-dark tooltip-button" data-tooltip-id="ui,add_own"><i class="fa-solid fa-wand-magic-sparkles"></i></button>
                                            </div>
                                            <div class="search-list-container" style="display:none;">
                                                <div class="search-list">
                                                    <div class="search-list-controls">
                                                        <div class="search-list-filter">
                                                            <button class="btn-pill" data-bs-toggle="dropdown">
                                                                <i class="fa-solid fa-filter ms-2"></i>
                                                                <span class="search-list-filter-active label"></span>
                                                                <i class="caret fa-solid fa-caret-down me-2"></i>
                                                            </button>
                                                            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-start dropdown-menu-scroll">
                                                                <li><a class="dropdown-item active" href="javascript:;" data-filter-select-value="all" data-localize-id="ui,filter_all"></a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="search-list-results"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <p id="statpreview-buff-transferable-incompatible" class="text-italic mb-2 panel-alert p-2"><i class="fa-solid fa-triangle-exclamation me-2"></i><span data-localize-id="ui,buff_transferable_incompatible"></span></p>
                                        <p id="statpreview-buff-transferable-conflict" class="text-italic mb-2 panel-alert p-2"><i class="fa-solid fa-triangle-exclamation me-2"></i><span data-localize-id="ui,buff_transferable_conflict"></span></p>
                                        <div id="statpreview-buff-transferable-controls" class="d-flex flex-column gap-2 buff-transferable-controls">
                                        </div>
                                        <div id="statpreview-buff-custom" class="buff-custom">
                                            <div class="d-flex mt-3">
                                                <h5 data-localize-id="ui,buff_custom"></h5>
                                            </div>
                                            <div class="mb-2">
                                                <div class="d-flex align-items-stretch mb-2 gap-2">
                                                    <input type="text" class="form-control name-input flex-fill" id="statpreview-buff-custom-name-input" data-ph-localize-id="ui,buff_custom_name_placeholder" autocomplete="off">
                                                </div>
                                                <div class="d-flex align-items-stretch gap-2">
                                                    <select id="statpreview-buff-custom-stat-select" class="form-select stat-select">
                                                    </select>
                                                    <input type="number" class="form-control amount-input" id="statpreview-buff-custom-amount-input" data-ph-localize-id="ui,buff_custom_value_placeholder" step="0.01" autocomplete="off">
                                                    <button id="statpreview-buff-custom-add-base" class="btn btn-dark tooltip-button add-base" data-tooltip-id="ui,buff_custom_base"><i class="fa-solid fa-plus"></i></button>
                                                    <button id="statpreview-buff-custom-add-coefficient" class="btn btn-dark tooltip-button add-coefficient" data-tooltip-id="ui,buff_custom_coefficient"><i class="fa-solid fa-percent"></i></button>
                                                </div>
                                            </div>
                                            <div id="statpreview-buff-custom-controls" class="d-flex flex-column gap-1 controls"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="statpreview-tab-pane-calculations" class="tab-pane">
                                <div class="row g-0">
                                    <div class="col-12 col-xl-6 mb-3 pe-xl-2">
                                        <h5 data-localize-id="ui,enemy_select"></h5>

                                        <div class="my-2 d-flex align-items-stretch gap-2">
                                            <input type="search" class="form-control" id="statpreview-enemysearch-search-text" data-ph-localize-id="ui,search" autocomplete="off" style="height:38px;">
                                            <button id="statpreview-enemysearch-search-btn" class="btn btn-dark tooltip-button" data-tooltip-id="ui,search"><i class="fa-solid fa-magnifying-glass"></i></button>
                                        </div>
                                        <div id="statpreview-enemysearch-search-list" class="search-list-container" style="display:none;">
                                            <div class="search-list">
                                                <div class="search-list-controls">
                                                    <div class="search-list-filter">
                                                        <button class="btn-pill" data-bs-toggle="dropdown">
                                                            <i class="fa-solid fa-filter ms-2"></i>
                                                            <span class="search-list-filter-active label"></span>
                                                            <i class="caret fa-solid fa-caret-down me-2"></i>
                                                        </button>
                                                        <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-start">
                                                            <li><a class="dropdown-item active" href="javascript:;" data-filter-key="all" data-localize-id="ui,filter_all"></a></li>
                                                            <li><a class="dropdown-item" href="javascript:;" data-filter-key="raid" data-localize-id="StageType,Raid"></a></li>
                                                            <li><a class="dropdown-item" href="javascript:;" data-filter-key="timeattack" data-localize-id="StageType,TimeAttack"></a></li>
                                                            <li><a class="dropdown-item" href="javascript:;" data-filter-key="worldraid" data-localize-id="StageType,WorldRaid"></a></li>
                                                            <li><a class="dropdown-item" href="javascript:;" data-filter-key="multifloorraid" data-localize-id="StageType,MultiFloorRaid"></a></li>
                                                            <li><a class="dropdown-item" href="javascript:;" data-filter-key="campaign" data-localize-id="StageType,Campaign"></a></li>
                                                            <li><a class="dropdown-item" href="javascript:;" data-filter-key="event" data-localize-id="StageType,Event"></a></li>
                                                            <li><a class="dropdown-item" href="javascript:;" data-filter-key="schooldungeon" data-localize-id="StageType,SchoolDungeon"></a></li>
                                                        </ul>
                                                    </div>
                                                    <button class="search-list-bookmark ms-auto btn-pill tooltip-button" data-tooltip-id="ui,filter_bookmark"><span class="label"><i class="fa-solid fa-bookmark"></i></span></button>
                                                </div>
                                                <div class="search-list-results"></div>
                                            </div>
                                        </div>

                                        <div class="ba-panel enemy-info-panel mb-2">
                                            <div class="px-2 pt-2">
                                                <div class="d-flex align-items-start gap-3">
                                                    <div id="statpreview-enemy-icon" class="enemy-select-icon">                                                    
                                                    </div>
                                                    <div class="flex-fill">
                                                        <h5 id="statpreview-enemy-name" class="title-text"></h5>
                                                        <span id="statpreview-enemy-desc" class="mb-0"></span>
                                                    </div>
                                                </div>
                                                <div class="d-flex flex-wrap align-items-center gap-1 mt-2 pb-1">
                                                    <span id="statpreview-enemy-attacktype" class="ba-info-pill-s bg-theme text-bold"><span class="icon-type"><img src="images/ui/Type_Attack_s.png"></span><span class="label"></span></span>
                                                    <button id="statpreview-enemy-defensetype" class="ba-info-pill-s btn btn-dark text-bold" data-bs-toggle="dropdown"><span class="icon-type"><img src="images/ui/Type_Defense_s.png"></span><span class="label"></span><i class="caret fa-solid fa-caret-down me-2"></i></button>
                                                    <ul id="statpreview-enemy-defensetype-list" class="dropdown-menu dropdown-menu-dark dropdown-menu-start">
                                                    </ul>
                                                    <span id="statpreview-enemy-size" class="ba-info-pill-s bg-theme text-bold"><span class="label"></span></span>
                                                    <button id="statpreview-enemy-bookmark" class="btn btn-sm btn-dark stat-panel-btn-sm no-wrap ms-auto" type="button"><i class="fa-solid fa-bookmark"></i></button>
                                                </div>
                                                <div id="calculation-enemy-floor">
                                                    <div class="d-flex align-items-center py-2">
                                                        <input type="range" class="form-range me-2 flex-fill" value="0" min="0" max="0">
                                                        <span class="ba-slider-label"></span>                                                    
                                                    </div>
                                                </div>
                                                <div class="ba-panel-separator my-2"></div>
                                            </div>
                                            <div id="calculation-enemy-stat-table" class="ba-stats"></div>
                                            <div class="d-flex p-2">
                                                <div id="calculation-enemy-level" class="input-small">
                                                    <div class="label">Lv.</div>
                                                    <input class="form-control" type="number" min="1" max="200">
                                                </div>
                                                <div id="student-stat-modal-enemy-active-buffs" class="ps-2 ms-auto enemy-active-buffs"></div>
                                            </div>
                                        </div>
                                        <div id="calculation-intermediate-table" class="ba-panel ba-stats mt-2 py-2 px-1">
                                            <div class="d-flex p-1 align-items-center">
                                                <div class="terrain-list">
                                                    <button class="btn-pill" data-bs-toggle="dropdown">
                                                        <div class="icon"><img src="" class="terrain-list-active-icon invert-light" style="padding: 1px;" width="28" height="28"></div>
                                                        <span class="terrain-list-active-name label"></span>
                                                        <i class="caret fa-solid fa-caret-down me-2"></i>
                                                    </button>
                                                    <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-start">
                                                    </ul>
                                                </div>
                                                <span class="flex-fill"></span>
                                                <span id="calculation-intermediate-terrain" class="text-bold d-flex align-items-center gap-2"></span>
                                            </div>
                                            <div class="ba-panel-separator my-2"></div>
                                            <div class="d-flex p-1">
                                                <span data-localize-id="ui,type_effectiveness"></span>
                                                <span class="flex-fill"></span>
                                                <span id="calculation-intermediate-effectiveness" class="text-bold"></span>
                                            </div>
                                            <div class="d-flex p-1">
                                                <span data-localize-id="ui,level_difference"></span>
                                                <span class="flex-fill"></span>
                                                <span id="calculation-intermediate-leveldiff" class="text-bold"></span>
                                            </div>
                                            <div class="ba-panel-separator my-2"></div>
                                            <div class="d-flex p-1">
                                                <span data-localize-id="ui,hit_chance"></span>
                                                <span class="flex-fill"></span>
                                                <span id="calculation-intermediate-hitchance" class="text-bold"></span>
                                            </div>
                                            <div class="d-flex p-1">
                                                <span data-localize-id="ui,crit_chance"></span>
                                                <span class="flex-fill"></span>
                                                <span id="calculation-intermediate-critchance" class="text-bold"></span>
                                            </div>
                                            <div class="d-flex p-1">
                                                <span data-localize-id="ui,stab_variance"></span>
                                                <span class="flex-fill"></span>
                                                <span id="calculation-intermediate-variance" class="text-bold"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-xl-6 mb-3 ps-xl-2">
                                        <div id="statpreview-enemy-buff-transferable-search">
                                            <h5 class="flex-fill">
                                                <span data-localize-id="ui,enemy_debuffs"></span>
                                            </h5>
                                            <div class="my-2 d-flex align-items-stretch gap-2">
                                                <input type="search" class="form-control" id="statpreview-enemy-buff-transferable-search-text" data-ph-localize-id="ui,buff_transferable_search" autocomplete="off">
                                                <button id="statpreview-enemy-buff-transferable-search-btn" class="btn btn-dark tooltip-button" data-tooltip-id="ui,search"><i class="fa-solid fa-magnifying-glass"></i></button>
                                                <button id="statpreview-enemy-buff-transferable-autoadd-btn" class="btn btn-dark tooltip-button" data-tooltip-id="ui,add_own"><i class="fa-solid fa-wand-magic-sparkles"></i></button>
                                            </div>
                                            <div class="search-list-container" style="display:none;">
                                                <div class="search-list">
                                                    <div class="search-list-controls">
                                                        <div class="search-list-filter">
                                                            <button class="btn-pill" data-bs-toggle="dropdown">
                                                                <i class="fa-solid fa-filter ms-2"></i>
                                                                <span class="search-list-filter-active label"></span>
                                                                <i class="caret fa-solid fa-caret-down me-2"></i>
                                                            </button>
                                                            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-start dropdown-menu-scroll">
                                                                <li><a class="dropdown-item active" href="javascript:;" data-filter-select-value="all" data-localize-id="ui,filter_all"></a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="search-list-results"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <p id="statpreview-enemy-buff-transferable-incompatible" class="text-italic mb-2 panel-alert p-2"><i class="fa-solid fa-triangle-exclamation me-2"></i><span data-localize-id="ui,buff_transferable_incompatible"></span></p>
                                        <p id="statpreview-enemy-buff-transferable-conflict" class="text-italic mb-2 panel-alert p-2"><i class="fa-solid fa-triangle-exclamation me-2"></i><span data-localize-id="ui,buff_transferable_conflict"></span></p>
                                        <div id="statpreview-enemy-buff-transferable-controls" class="d-flex flex-column gap-2 buff-transferable-controls">
                                        </div>
                                        <div id="statpreview-enemy-buff-custom" class="buff-custom">
                                            <div class="d-flex mt-3">
                                                <h5 data-localize-id="ui,buff_custom_enemy"></h5>     
                                            </div>
                                            <div class="mb-2">
                                                <div class="d-flex align-items-stretch mb-2 gap-2">
                                                    <input type="text" class="form-control name-input flex-fill" id="statpreview-enemy-buff-custom-name-input" data-ph-localize-id="ui,buff_custom_name_placeholder" autocomplete="off">
                                                </div>
                                                <div class="d-flex align-items-stretch gap-2">
                                                    <select id="statpreview-enemy-buff-custom-stat-select" class="form-select stat-select">
                                                    </select>
                                                    <input type="number" class="form-control amount-input" id="statpreview-enemy-buff-custom-amount-input" data-ph-localize-id="ui,buff_custom_value_placeholder" step="0.01" autocomplete="off">
                                                    <button id="statpreview-enemy-buff-custom-add-base" class="btn btn-dark tooltip-button add-base" data-tooltip-id="ui,buff_custom_base"><i class="fa-solid fa-plus"></i></button>
                                                    <button id="statpreview-enemy-buff-custom-add-coefficient" class="btn btn-dark tooltip-button add-coefficient" data-tooltip-id="ui,buff_custom_coefficient"><i class="fa-solid fa-percent"></i></button>
                                                </div>
                                            </div>
                                            <div id="statpreview-enemy-buff-custom-controls" class="d-flex flex-column gap-1 controls"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="d-flex flex-column gap-2 panel-stats">
                        <div class="d-flex flex-row align-items-stretch gap-1 px-2">
                            <div class="summon-list dropdown-character-list">
                                <button class="btn-pill" data-bs-toggle="dropdown">
                                    <div class="icon active-icon"><img src="" width="28" height="28"></div>
                                    <span class="active-name label"></span>
                                    <i class="caret fa-solid fa-caret-down me-2"></i>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-start">
                                </ul>
                            </div>
                            <div class="flex-fill"></div>
                            <div id="student-stat-modal-active-buffs" class="active-buffs px-2 ba-panel"></div>
                            <button id="student-stat-modal-skill-calc-toggle" class="btn-pill deactivated"><span class="label" data-localize-id="ui,skills"></span></button>
                        </div>
                        <div class="panel-stats-table">
                            <div id="ba-student-stat-modal-table" class="student-stat-table ba-panel ba-stats mb-0">
                            </div>
                            <div id="student-stat-modal-skill-calculations" class="" style="display:none;">
                                <nav id="skill-calculation-tabs" class="nav nav-pills justify-content-center mb-2">
                                    <a id="skill-calculation-tab-student" class="py-1 nav-link active" data-bs-toggle="tab" href="#calculation-student-skills" data-localize-id="ui,student"></a>
                                    <a id="skill-calculation-tab-enemy" class="py-1 nav-link" data-bs-toggle="tab" href="#calculation-enemy-skills" data-localize-id="ui,enemy"></a>
                                </nav>
                                <div class="tab-content">
                                    <div id="calculation-student-skills" class="tab-pane active"></div>
                                    <div id="calculation-enemy-skills" class="tab-pane"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ba-student-modal-students" tabindex="-1">
    <div class="modal-dialog modal-xl modal-fullscreen-lg-down">
        <div class="modal-content">
            <div class="modal-body">
                <div id="ba-student-modal-page" class="d-lg-flex">
                    <div id="ba-student-search-filters" class="d-flex flex-column">
                        <div class="mb-3 d-flex align-items-stretch" style="min-height:38px;">
                            <div class="d-lg-none pe-2 flex-shrink-0">
                                <button id="student-search-filters-btn" class="btn btn-dark" type="button" data-bs-toggle="collapse" data-bs-target="#ba-student-search-filters-panel"><i class="fa-solid fa-filter"></i><span id="ba-student-search-filter-amount"></span></button>
                            </div>
                            <div class="flex-fill">
                                <input type="search" class="form-control h-100" id="ba-student-search-text" data-ph-localize-id="ui,filter_by_name" autocomplete="off">
                            </div>
                            <button id="ba-student-search-reset" class="btn btn-dark tooltip-button ms-2" data-tooltip-id="ui,student_search_filters_clear" onclick="searchResetFilter()"><i class="fa-solid fa-filter-circle-xmark"></i></button>
                            <button id="ba-student-search-showinfo" class="btn btn-dark ms-2"><i class="fa-solid fa-circle-info"></i></button>
                            <div class="d-lg-none ms-2 p-1" style="min-width:32px;">
                                <button type="button" class="btn-close btn-close-white btn" data-bs-dismiss="modal" aria-label="Close" style="margin-top: 0.15rem;"></button>
                            </div>
                        </div>
                        <div id="ba-student-search-filters-panel" class="collapse d-lg-block">
                            <div class="search-filter-group-list">
                                <div id="ba-student-search-sortby">
                                    <h5 data-localize-id="ui,sortby"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-sortby-default" class="btn-pill" onclick="searchSetOrder('Default')"><span class="label"><span data-localize-id="ui,default"></span><span class="sort-direction-label"></span></span></button>
                                        <button id="ba-student-search-sortby-name" class="btn-pill" onclick="searchSetOrder('Name')"><span class="label"><span data-localize-id="ui,name"></span><span class="sort-direction-label"></span></span></button>
                                        <div class="btn-group">
                                            <button id="ba-student-search-sortby-stat" class="btn-pill" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside"><span class="label" data-localize-id="ui,others"></span><i class="caret fa-solid fa-caret-down me-2"></i></button>
                                            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end dropdown-menu-scroll-large">
                                                <li><h6 class="dropdown-header" data-localize-id="ui,max_stats"></h6></li>
                                                <li><a id="ba-student-search-sortby-maxhp100" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('MaxHP100')" class="btn btn-dark"><span data-localize-id="Stat,MaxHP"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-attackpower100" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('AttackPower100')" class="btn btn-dark"><span data-localize-id="Stat,AttackPower"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-defensepower100" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('DefensePower100')" class="btn btn-dark"><span data-localize-id="Stat,DefensePower"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-healpower100" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('HealPower100')" class="btn btn-dark"><span data-localize-id="Stat,HealPower"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-accuracypoint" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('AccuracyPoint')" class="btn btn-dark"><span data-localize-id="Stat,AccuracyPoint"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-dodgepoint" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('DodgePoint')" class="btn btn-dark"><span data-localize-id="Stat,DodgePoint"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-criticalpoint" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('CriticalPoint')" class="btn btn-dark"><span data-localize-id="Stat,CriticalPoint"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-stabilitypoint" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('StabilityPoint')" class="btn btn-dark"><span data-localize-id="Stat,StabilityPoint"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-range" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('Range')" class="btn btn-dark"><span data-localize-id="Stat,Range"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-usecollectionstats" class="dropdown-item" href="javascript:;" onclick="searchToggleUseCollectionStats()" class="btn btn-dark"><div class="d-flex"><span class="item-toggle-icon me-2"></span><span data-localize-id="ui,collection_stats"></span></div></a></li>
                                                <li><hr class="dropdown-divider"></li>
                                                <li><h6 class="dropdown-header" data-localize-id="ui,attributes"></h6></li>
                                                <li><a id="ba-student-search-sortby-streetbattleadaptation" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('StreetBattleAdaptation')" class="btn btn-dark"><span data-localize-id="ui,terrain_adaption" data-localize-replacement-id="AdaptationType,Street"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-outdoorbattleadaptation" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('OutdoorBattleAdaptation')" class="btn btn-dark"><span data-localize-id="ui,terrain_adaption" data-localize-replacement-id="AdaptationType,Outdoor"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-indoorbattleadaptation" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('IndoorBattleAdaptation')" class="btn btn-dark"><span data-localize-id="ui,terrain_adaption" data-localize-replacement-id="AdaptationType,Indoor"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-excost" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('EXCost')" class="btn btn-dark"><span data-localize-id="Stat,SkillCost"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-normalhits" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('NormalHits')" class="btn btn-dark"><span data-localize-id="Stat,NormalHits"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-exhits" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('EXHits')" class="btn btn-dark"><span data-localize-id="Stat,EXHits"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-publichits" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('PublicHits')" class="btn btn-dark"><span data-localize-id="Stat,PublicHits"></span><span class="sort-direction-label"></span></a></li>
                                                <li><hr class="dropdown-divider"></li>
                                                <li><h6 class="dropdown-header" data-localize-id="ui,collection"></h6></li>
                                                <li><a id="ba-student-search-sortby-collectionstars" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('CollectionStars')" class="btn btn-dark"><span data-localize-id="ui,student_stars"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-collectionlevel" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('CollectionLevel')" class="btn btn-dark"><span data-localize-id="Stat,Level"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-collectionbond" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('CollectionBond')" class="btn btn-dark"><span data-localize-id="ui,student_bond"></span><span class="sort-direction-label"></span></a></li>
                                                <li><hr class="dropdown-divider"></li>
                                                <li><h6 class="dropdown-header" data-localize-id="ui,profile"></h6></li>
                                                <li><a id="ba-student-search-sortby-school" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('School')" class="btn btn-dark"><span data-localize-id="ui,school"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-club" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('Club')" class="btn btn-dark"><span data-localize-id="ui,club"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-charactervoice" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('CharacterVoice')" class="btn btn-dark"><span data-localize-id="ui,cv"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-birthday" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('BirthDay')" class="btn btn-dark"><span data-localize-id="ui,birthday"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-characterage" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('CharacterAge')" class="btn btn-dark"><span data-localize-id="ui,age"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-charheightmetric" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('CharHeightMetric')" class="btn btn-dark"><span data-localize-id="ui,height"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-illustrator" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('Illustrator')" class="btn btn-dark"><span data-localize-id="ui,illustrator"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-designer" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('Designer')" class="btn btn-dark"><span data-localize-id="ui,designer"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-memorylobby" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('MemoryLobby')" class="btn btn-dark"><span data-localize-id="ui,memory_lobby_unlock_level"></span><span class="sort-direction-label"></span></a></li>
                                                <li><a id="ba-student-search-sortby-memorylobbybgm" class="dropdown-item" href="javascript:;" onclick="searchSetOrder('MemoryLobbyBGM')" class="btn btn-dark"><span data-localize-id="ui,memory_lobby_bgm_name"></span><span class="sort-direction-label"></span></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div id="ba-student-search-filter-collection">
                                    <h5 data-localize-id="ui,collection"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-collection-owned" class="btn-pill mutually-exclusive" onclick="searchSetFilter('Collection','Owned')"><i class="fa-solid fa-circle-check ms-2"></i><span class="label" data-localize-id="ui,collection_owned"></span></button>
                                        <button id="ba-student-search-filter-collection-notowned" class="btn-pill mutually-exclusive" onclick="searchSetFilter('Collection','NotOwned')"><i class="fa-solid fa-circle-xmark ms-2"></i><span class="label" data-localize-id="ui,collection_notowned"></span></button>
                                    </div>
                                </div>
                                <div id="ba-student-search-filter-squadtype">
                                    <h5 data-localize-id="ui,type"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-squadtype-main" class="btn-pill ba-col-striker text-bold text-italic mutually-exclusive" onclick="searchSetFilter('SquadType','Main')"><span class="label" data-localize-id="SquadType,Main"></span></button>
                                        <button id="ba-student-search-filter-squadtype-support" class="btn-pill ba-col-special text-bold text-italic mutually-exclusive" onclick="searchSetFilter('SquadType','Support')"><span class="label" data-localize-id="SquadType,Support"></span></button>    
                                    </div>
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,role"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-tacticrole-tanker" class="btn-pill" onclick="searchSetFilter('TacticRole','Tanker')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/ui/Role_Tanker.png"><span data-localize-id="TacticRole,Tanker"></span></span></button>
                                        <button id="ba-student-search-filter-tacticrole-damagedealer" class="btn-pill" onclick="searchSetFilter('TacticRole','DamageDealer')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/ui/Role_DamageDealer.png"><span data-localize-id="TacticRole,DamageDealer"></span></span></button>
                                        <button id="ba-student-search-filter-tacticrole-healer" class="btn-pill" onclick="searchSetFilter('TacticRole','Healer')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/ui/Role_Healer.png"><span data-localize-id="TacticRole,Healer"></span></span></button>
                                        <button id="ba-student-search-filter-tacticrole-supporter" class="btn-pill" onclick="searchSetFilter('TacticRole','Supporter')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/ui/Role_Supporter.png"><span data-localize-id="TacticRole,Supporter"></span></span></button>
                                        <button id="ba-student-search-filter-tacticrole-vehicle" class="btn-pill" onclick="searchSetFilter('TacticRole','Vehicle')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/ui/Role_Vehicle.png"><span data-localize-id="TacticRole,Vehicle"></span></span></button>
                                    </div>    
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,rarity_availability"></h5>
                                    <div class="d-flex flex-column gap-1">
                                        <div class="search-filter-group">
                                            <button id="ba-student-search-filter-stargrade-3" class="btn-pill" onclick="searchSetFilter('StarGrade',3)"><span class="label"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></span></button>
                                            <button id="ba-student-search-filter-stargrade-2" class="btn-pill" onclick="searchSetFilter('StarGrade',2)"><span class="label"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></span></button>
                                            <button id="ba-student-search-filter-stargrade-1" class="btn-pill" onclick="searchSetFilter('StarGrade',1)"><span class="label"><i class="fa-solid fa-star"></i></span></button>    
                                        </div>
                                        <div class="search-filter-group">
                                            <button id="ba-student-search-filter-islimited-1" class="btn-pill" onclick="searchSetFilter('IsLimited',1)"><span class="label" data-localize-id="IsLimited,1"></span></button>
                                            <button id="ba-student-search-filter-islimited-2" class="btn-pill" onclick="searchSetFilter('IsLimited',2)"><span class="label" data-localize-id="IsLimited,2"></span></button>
                                            <button id="ba-student-search-filter-islimited-0" class="btn-pill" onclick="searchSetFilter('IsLimited',0)"><span class="label" data-localize-id="IsLimited,0"></span></button>    
                                        </div>
                                    </div>  
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,attacktype"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-bullettype-explosion" class="btn-pill ba-col-explosion text-bold" onclick="searchSetFilter('BulletType','Explosion')"><span class="label" data-localize-id="BulletType,Explosion"></span></button>
                                        <button id="ba-student-search-filter-bullettype-pierce" class="btn-pill ba-col-pierce text-bold" onclick="searchSetFilter('BulletType','Pierce')"><span class="label" data-localize-id="BulletType,Pierce"></span></button>
                                        <button id="ba-student-search-filter-bullettype-mystic" class="btn-pill ba-col-mystic text-bold" onclick="searchSetFilter('BulletType','Mystic')"><span class="label" data-localize-id="BulletType,Mystic"></span></button>
                                        <button id="ba-student-search-filter-bullettype-sonic" class="btn-pill ba-col-sonic text-bold" onclick="searchSetFilter('BulletType','Sonic')"><span class="label" data-localize-id="BulletType,Sonic"></span></button>
                                    </div>    
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,defensetype"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-armortype-lightarmor" class="btn-pill ba-col-explosion text-bold" onclick="searchSetFilter('ArmorType','LightArmor')"><span class="label" data-localize-id="ArmorType,LightArmor"></span></button>
                                        <button id="ba-student-search-filter-armortype-heavyarmor" class="btn-pill ba-col-pierce text-bold" onclick="searchSetFilter('ArmorType','HeavyArmor')"><span class="label" data-localize-id="ArmorType,HeavyArmor"></span></button>
                                        <button id="ba-student-search-filter-armortype-unarmed" class="btn-pill ba-col-mystic text-bold" onclick="searchSetFilter('ArmorType','Unarmed')"><span class="label" data-localize-id="ArmorType,Unarmed"></span></button>
                                        <button id="ba-student-search-filter-armortype-elasticarmor" class="btn-pill ba-col-sonic text-bold" onclick="searchSetFilter('ArmorType','ElasticArmor')"><span class="label" data-localize-id="ArmorType,ElasticArmor"></span></button>
                                    </div>    
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,position"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-position-front" class="btn-pill text-bold text-italic" onclick="searchSetFilter('Position','Front')"><span class="label">FRONT</span></button>
                                        <button id="ba-student-search-filter-position-middle" class="btn-pill text-bold text-italic" onclick="searchSetFilter('Position','Middle')"><span class="label">MIDDLE</span></button>
                                        <button id="ba-student-search-filter-position-back" class="btn-pill text-bold text-italic" onclick="searchSetFilter('Position','Back')"><span class="label">BACK</span></button>
                                    </div>    
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,school"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-school-abydos" class="btn-pill" onclick="searchSetFilter('School','Abydos')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_ABYDOS_W.png"><span data-localize-id="School,Abydos"></span></span></button>
                                        <button id="ba-student-search-filter-school-arius" class="btn-pill" onclick="searchSetFilter('School','Arius')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_ARIUS_W.png"><span data-localize-id="School,Arius"></span></span></button>
                                        <button id="ba-student-search-filter-school-gehenna" class="btn-pill" onclick="searchSetFilter('School','Gehenna')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_GEHENNA_W.png"><span data-localize-id="School,Gehenna"></span></span></button>
                                        <button id="ba-student-search-filter-school-hyakkiyako" class="btn-pill" onclick="searchSetFilter('School','Hyakkiyako')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_HYAKKIYAKO_W.png"><span data-localize-id="School,Hyakkiyako"></span></span></button>
                                        <button id="ba-student-search-filter-school-millennium" class="btn-pill" onclick="searchSetFilter('School','Millennium')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_MILLENNIUM_W.png"><span data-localize-id="School,Millennium"></span></span></button>
                                        <button id="ba-student-search-filter-school-redwinter" class="btn-pill" onclick="searchSetFilter('School','RedWinter')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_REDWINTER_W.png"><span data-localize-id="School,RedWinter"></span></span></button>
                                        <button id="ba-student-search-filter-school-shanhaijing" class="btn-pill" onclick="searchSetFilter('School','Shanhaijing')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_SHANHAIJING_W.png"><span data-localize-id="School,Shanhaijing"></span></span></button>
                                        <button id="ba-student-search-filter-school-srt" class="btn-pill" onclick="searchSetFilter('School','SRT')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_SRT_W.png"><span data-localize-id="School,SRT"></span></span></button>
                                        <button id="ba-student-search-filter-school-trinity" class="btn-pill" onclick="searchSetFilter('School','Trinity')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_TRINITY_W.png"><span data-localize-id="School,Trinity"></span></span></button>
                                        <button id="ba-student-search-filter-school-valkyrie" class="btn-pill" onclick="searchSetFilter('School','Valkyrie')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_VALKYRIE_W.png"><span data-localize-id="School,Valkyrie"></span></span></button>
                                        <button id="ba-student-search-filter-school-etc" class="btn-pill" onclick="searchSetFilter('School','ETC')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_ETC_W.png"><span data-localize-id="School,ETC"></span></span></button>
                                        <button id="ba-student-search-filter-school-tokiwadai" class="btn-pill" onclick="searchSetFilter('School','Tokiwadai')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_TOKIWADAI_W.png"><span data-localize-id="School,Tokiwadai"></span></span></button>
                                        <button id="ba-student-search-filter-school-sakugawa" class="btn-pill" onclick="searchSetFilter('School','Sakugawa')"><span class="label-filter"><img class="invert-light" width="26" height="26" src="images/schoolicon/School_Icon_ETC_W.png"><span data-localize-id="School,Sakugawa"></span></span></button>
                                    </div>    
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,weapon"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-weapontype-sg" class="btn-pill" onclick="searchSetFilter('WeaponType','SG')"><span class="label">SG</span></button>
                                        <button id="ba-student-search-filter-weapontype-smg" class="btn-pill" onclick="searchSetFilter('WeaponType','SMG')"><span class="label">SMG</span></button>
                                        <button id="ba-student-search-filter-weapontype-ar" class="btn-pill" onclick="searchSetFilter('WeaponType','AR')"><span class="label">AR</span></button>
                                        <button id="ba-student-search-filter-weapontype-gl" class="btn-pill" onclick="searchSetFilter('WeaponType','GL')"><span class="label">GL</span></button>
                                        <button id="ba-student-search-filter-weapontype-hg" class="btn-pill" onclick="searchSetFilter('WeaponType','HG')"><span class="label">HG</span></button>
                                        <button id="ba-student-search-filter-weapontype-rl" class="btn-pill" onclick="searchSetFilter('WeaponType','RL')"><span class="label">RL</span></button>
                                        <button id="ba-student-search-filter-weapontype-sr" class="btn-pill" onclick="searchSetFilter('WeaponType','SR')"><span class="label">SR</span></button>
                                        <button id="ba-student-search-filter-weapontype-rg" class="btn-pill" onclick="searchSetFilter('WeaponType','RG')"><span class="label">RG</span></button>
                                        <button id="ba-student-search-filter-weapontype-mg" class="btn-pill" onclick="searchSetFilter('WeaponType','MG')"><span class="label">MG</span></button>
                                        <button id="ba-student-search-filter-weapontype-mt" class="btn-pill" onclick="searchSetFilter('WeaponType','MT')"><span class="label">MT</span></button>
                                        <button id="ba-student-search-filter-weapontype-ft" class="btn-pill" onclick="searchSetFilter('WeaponType','FT')"><span class="label">FT</span></button>
                                    </div>    
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,student_gear"></h5>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-gear1-hat" class="btn-pill" onclick="searchSetFilter('Gear1','Hat')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Hat.png"><span data-localize-id="ItemCategory,Hat"></span></span></button>
                                        <button id="ba-student-search-filter-gear1-gloves" class="btn-pill" onclick="searchSetFilter('Gear1','Gloves')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Gloves.png"><span data-localize-id="ItemCategory,Gloves"></span></span></button>
                                        <button id="ba-student-search-filter-gear1-shoes" class="btn-pill" onclick="searchSetFilter('Gear1','Shoes')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Shoes.png"><span data-localize-id="ItemCategory,Shoes"></span></span></button>
                                        <button id="ba-student-search-filter-gear2-bag" class="btn-pill" onclick="searchSetFilter('Gear2','Bag')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Bag.png"><span data-localize-id="ItemCategory,Bag"></span></span></button>
                                        <button id="ba-student-search-filter-gear2-badge" class="btn-pill" onclick="searchSetFilter('Gear2','Badge')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Badge.png"><span data-localize-id="ItemCategory,Badge"></span></span></button>
                                        <button id="ba-student-search-filter-gear2-hairpin" class="btn-pill" onclick="searchSetFilter('Gear2','Hairpin')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Hairpin.png"><span data-localize-id="ItemCategory,Hairpin"></span></span></button>
                                        <button id="ba-student-search-filter-gear3-charm" class="btn-pill" onclick="searchSetFilter('Gear3','Charm')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Charm.png"><span data-localize-id="ItemCategory,Charm"></span></span></button>
                                        <button id="ba-student-search-filter-gear3-necklace" class="btn-pill" onclick="searchSetFilter('Gear3','Necklace')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Necklace.png"><span data-localize-id="ItemCategory,Necklace"></span></span></button>
                                        <button id="ba-student-search-filter-gear3-watch" class="btn-pill" onclick="searchSetFilter('Gear3','Watch')"><span class="label-filter"><img width="24" height="24" class="invert-light" src="images/ui/Icon_Inven_Watch.png"><span data-localize-id="ItemCategory,Watch"></span></span></button>
                                        <button id="ba-student-search-filter-bondgear" class="btn-pill" onclick="searchSetFilter('BondGear',null)"><span class="label" data-localize-id="ui,student_ex_gear"></span></button>
                                    </div>    
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,misc"></h5>
                                    <div class="search-filter-group mb-1">
                                        <button id="ba-student-search-filter-cover-uses" class="btn-pill mutually-exclusive" onclick="searchSetFilter('Cover','Uses')"><span class="label" data-localize-id="ui,uses_cover"></span></button>
                                        <button id="ba-student-search-filter-cover-doesntuse" class="btn-pill mutually-exclusive" onclick="searchSetFilter('Cover','DoesntUse')"><span class="label" data-localize-id="ui,doesnt_use_cover"></span></button>
                                    </div>
                                    <div class="search-filter-group">
                                        <button id="ba-student-search-filter-hascc" class="btn-pill" onclick="searchSetFilter('HasCC',null)"><span class="label" data-localize-id="ui,can_cc"></span></button>
                                        <button id="ba-student-search-filter-hasdebuff" class="btn-pill" onclick="searchSetFilter('HasDebuff',null)"><span class="label" data-localize-id="ui,can_debuff"></span></button>
                                        <div class="btn-group">
                                            <button id="ba-student-search-select-usesartifact" class="btn-pill" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside"><span class="label" data-localize-id="ui,uses_artifact"></span><i class="caret fa-solid fa-caret-down me-2"></i></button>
                                            <ul id="ba-student-search-select-usesartifact-list" class="dropdown-menu dropdown-menu-dark dropdown-menu-end dropdown-menu-scroll">
                                            </ul>
                                        </div>
                                        <div class="btn-group">
                                            <button id="ba-student-search-select-passivebuff" class="btn-pill" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside"><span class="label" data-localize-id="ui,student_skill_passive"></span><i class="caret fa-solid fa-caret-down me-2"></i></button>
                                            <ul id="ba-student-search-select-passivebuff-list" class="dropdown-menu dropdown-menu-dark dropdown-menu-end dropdown-menu-scroll">
                                            </ul>
                                        </div>
                                        <div class="btn-group">
                                            <button id="ba-student-search-select-weaponpassivebuff" class="btn-pill" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside"><span class="label" data-localize-id="ui,student_skill_weaponpassive"></span><i class="caret fa-solid fa-caret-down me-2"></i></button>
                                            <ul id="ba-student-search-select-weaponpassivebuff-list" class="dropdown-menu dropdown-menu-dark dropdown-menu-end dropdown-menu-scroll">
                                            </ul>
                                        </div>
                                        <div class="btn-group">
                                            <button id="ba-student-search-select-subbuff" class="btn-pill" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside"><span class="label" data-localize-id="ui,sp_sub_skill"></span><i class="caret fa-solid fa-caret-down me-2"></i></button>
                                            <ul id="ba-student-search-select-subbuff-list" class="dropdown-menu dropdown-menu-dark dropdown-menu-end dropdown-menu-scroll">
                                            </ul>
                                        </div>

                                    </div>
                                </div>
                                <div>
                                    <h5 data-localize-id="ui,combat_power"></h5>
                                    <div class="d-flex flex-column gap-1">
                                        <div class="search-filter-group">
                                            <span><img class="invert-light" src="images/ui/Terrain_Street.png" width="30" height="30"></span>
                                            <button id="ba-student-search-filter-streetbattleadaptation-0" class="btn-pill" onclick="searchSetFilter('StreetBattleAdaptation',0)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultD.png"></div></button>
                                            <button id="ba-student-search-filter-streetbattleadaptation-1" class="btn-pill" onclick="searchSetFilter('StreetBattleAdaptation',1)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultC.png"></div></button>
                                            <button id="ba-student-search-filter-streetbattleadaptation-2" class="btn-pill" onclick="searchSetFilter('StreetBattleAdaptation',2)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultB.png"></div></button>
                                            <button id="ba-student-search-filter-streetbattleadaptation-3" class="btn-pill" onclick="searchSetFilter('StreetBattleAdaptation',3)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultA.png"></div></button>
                                            <button id="ba-student-search-filter-streetbattleadaptation-4" class="btn-pill" onclick="searchSetFilter('StreetBattleAdaptation',4)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultS.png"></div></button>
                                            <button id="ba-student-search-filter-streetbattleadaptation-5" class="btn-pill" onclick="searchSetFilter('StreetBattleAdaptation',5)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultSS.png"></div></button>
                                        </div>
                                        <div class="search-filter-group">
                                            <span><img class="invert-light" src="images/ui/Terrain_Outdoor.png" width="30" height="30"></span>
                                            <button id="ba-student-search-filter-outdoorbattleadaptation-0" class="btn-pill" onclick="searchSetFilter('OutdoorBattleAdaptation',0)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultD.png"></div></button>
                                            <button id="ba-student-search-filter-outdoorbattleadaptation-1" class="btn-pill" onclick="searchSetFilter('OutdoorBattleAdaptation',1)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultC.png"></div></button>
                                            <button id="ba-student-search-filter-outdoorbattleadaptation-2" class="btn-pill" onclick="searchSetFilter('OutdoorBattleAdaptation',2)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultB.png"></div></button>
                                            <button id="ba-student-search-filter-outdoorbattleadaptation-3" class="btn-pill" onclick="searchSetFilter('OutdoorBattleAdaptation',3)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultA.png"></div></button>
                                            <button id="ba-student-search-filter-outdoorbattleadaptation-4" class="btn-pill" onclick="searchSetFilter('OutdoorBattleAdaptation',4)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultS.png"></div></button>
                                            <button id="ba-student-search-filter-outdoorbattleadaptation-5" class="btn-pill" onclick="searchSetFilter('OutdoorBattleAdaptation',5)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultSS.png"></div></button>
                                        </div>
                                        <div class="search-filter-group">
                                            <span><img class="invert-light" src="images/ui/Terrain_Indoor.png" width="30" height="30"></span>
                                            <button id="ba-student-search-filter-indoorbattleadaptation-0" class="btn-pill" onclick="searchSetFilter('IndoorBattleAdaptation',0)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultD.png"></div></button>
                                            <button id="ba-student-search-filter-indoorbattleadaptation-1" class="btn-pill" onclick="searchSetFilter('IndoorBattleAdaptation',1)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultC.png"></div></button>
                                            <button id="ba-student-search-filter-indoorbattleadaptation-2" class="btn-pill" onclick="searchSetFilter('IndoorBattleAdaptation',2)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultB.png"></div></button>
                                            <button id="ba-student-search-filter-indoorbattleadaptation-3" class="btn-pill" onclick="searchSetFilter('IndoorBattleAdaptation',3)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultA.png"></div></button>
                                            <button id="ba-student-search-filter-indoorbattleadaptation-4" class="btn-pill" onclick="searchSetFilter('IndoorBattleAdaptation',4)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultS.png"></div></button>
                                            <button id="ba-student-search-filter-indoorbattleadaptation-5" class="btn-pill" onclick="searchSetFilter('IndoorBattleAdaptation',5)"><div class="icon mx-1"><img width="22" height="22" src="images/ui/Ingame_Emo_AdaptresultSS.png"></div></button>
                                        </div>
                                        <div class="search-filter-group">
                                            <button id="ba-student-search-filter-terrainupgrades" class="btn-pill" onclick="searchSetFilter('TerrainUpgrades',null)"><span class="label" data-localize-id="ui,filter_include_weapon_upgrade"></span></button>
                                        </div>
                                    </div>    
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="ba-student-search-results" class="flex-fill">
                        <div id="student-select-grid" class="selection-grid student align-top flex-fill">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="student-modal-voice" tabindex="-1">
    <div class="modal-dialog modal-lg modal-fullscreen-lg-down">
        <div class="modal-content">
            <div class="modal-header" style="border-bottom: none;">
                <h5 class="modal-title" data-localize-id="ui,voicegallery"></h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body pt-1">
                <div class="h-100">
                    <div class="d-flex flex-column gap-2 h-100">
                        <div id="student-voice-header" class="d-flex align-items-center flex-wrap justify-content-between">
                            <div id="student-voice-info" class="d-flex gap-2 align-items-center">
                                <span id="student-voice-icon"><img src=""></span>
                                <div>
                                    <h5 id="student-voice-name" class="mb-0"></h5>
                                    <span class="me-1" data-localize-id="ui,cv"></span><span class="text-italic" id="student-voice-cv"></span>
                                </div>
                            </div>

                            <nav id="voicegallery" class="nav nav-pills justify-content-center">
                                <a id="student-voicegallery-tab-normal" class="nav-link" data-bs-toggle="tab" href="#student-voicegallery-pane-normal" data-localize-id="VoiceClipGroup,Normal"></a>
                                <a id="student-voicegallery-tab-battle" class="nav-link" data-bs-toggle="tab" href="#student-voicegallery-pane-battle" data-localize-id="VoiceClipGroup,Battle"></a>
                                <a id="student-voicegallery-tab-lobby" class="nav-link" data-bs-toggle="tab" href="#student-voicegallery-pane-lobby" data-localize-id="VoiceClipGroup,Lobby"></a>
                                <a id="student-voicegallery-tab-event" class="nav-link" data-bs-toggle="tab" href="#student-voicegallery-pane-event" data-localize-id="VoiceClipGroup,Event"></a>
                            </nav>
                        </div>
                        <div class="tab-content">
                            <div id="student-voicegallery-pane-normal" class="tab-pane">
                                <div id="student-voicegallery-list-normal" class="py-2 d-flex flex-column gap-2"></div>
                            </div>
                            <div id="student-voicegallery-pane-battle" class="tab-pane">
                                <div id="student-voicegallery-list-battle" class="py-2 d-flex flex-column gap-2"></div>
                            </div>
                            <div id="student-voicegallery-pane-lobby" class="tab-pane">
                                <div id="student-voicegallery-list-lobby" class="py-2 d-flex flex-column gap-2"></div>
                            </div>
                            <div id="student-voicegallery-pane-event" class="tab-pane">
                                <div id="student-voicegallery-list-event" class="py-2 d-flex flex-column gap-2"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>